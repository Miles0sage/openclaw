# Kubernetes Secrets template for OpenClaw
# IMPORTANT: Do not commit this file with real secrets!
# Use one of these approaches instead:
# 1. Store in 1Password and sync with sealed-secrets
# 2. Use external secrets operator
# 3. Inject at deploy time using your CI/CD pipeline

apiVersion: v1
kind: Secret
metadata:
  name: openclaw-secrets
  namespace: default
type: Opaque
stringData:
  anthropic-api-key: "CHANGE_ME_anthropic_api_key"
  slack-bot-token: "CHANGE_ME_slack_bot_token"
  slack-signing-secret: "CHANGE_ME_slack_signing_secret"
  slack-app-token: "CHANGE_ME_slack_app_token"
  discord-bot-token: "CHANGE_ME_discord_bot_token"
  telegram-bot-token: "CHANGE_ME_telegram_bot_token"
  deepseek-api-key: "CHANGE_ME_deepseek_api_key"
  minimax-api-key: "CHANGE_ME_minimax_api_key"
  barber-crm-supabase-anon-key: "CHANGE_ME_barber_crm_anon"
  barber-crm-supabase-service-role-key: "CHANGE_ME_barber_crm_service_role"
  delhi-palace-supabase-anon-key: "CHANGE_ME_delhi_palace_anon"
  delhi-palace-supabase-service-role-key: "CHANGE_ME_delhi_palace_service_role"

---
# RBAC - ServiceAccount
apiVersion: v1
kind: ServiceAccount
metadata:
  name: openclaw
  namespace: default

---
# RBAC - ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: openclaw
rules:
  - apiGroups: [""]
    resources: ["configmaps"]
    verbs: ["get", "list", "watch"]
  - apiGroups: [""]
    resources: ["secrets"]
    verbs: ["get"]
  - apiGroups: [""]
    resources: ["pods"]
    verbs: ["get", "list"]

---
# RBAC - ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: openclaw
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: openclaw
subjects:
  - kind: ServiceAccount
    name: openclaw
    namespace: default
